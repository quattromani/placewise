<!DOCTYPE  html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>doc</title>
    <style>
      /*github.com style (c) Vasily Polovnyov <vast@whiteants.net>*/
      pre code {
        display: block; padding: 0.5em;
        color: #333;
        background: #f8f8ff
      }
      pre .comment,
      pre .template_comment,
      pre .diff .header,
      pre .javadoc {
        color: #998;
        font-style: italic
      }
      pre .keyword,
      pre .css .rule .keyword,
      pre .winutils,
      pre .javascript .title,
      pre .nginx .title,
      pre .subst,
      pre .request,
      pre .status {
        color: #333;
        font-weight: bold
      }
      pre .number,
      pre .hexcolor,
      pre .ruby .constant {
        color: #099;
      }
      pre .string,
      pre .tag .value,
      pre .phpdoc,
      pre .tex .formula {
        color: #d14
      }
      pre .title,
      pre .id {
        color: #900;
        font-weight: bold
      }
      pre .javascript .title,
      pre .lisp .title,
      pre .clojure .title,
      pre .subst {
        font-weight: normal
      }
      pre .class .title,
      pre .haskell .type,
      pre .vhdl .literal,
      pre .tex .command {
        color: #458;
        font-weight: bold
      }
      pre .tag,
      pre .tag .title,
      pre .rules .property,
      pre .django .tag .keyword {
        color: #000080;
        font-weight: normal
      }
      pre .attribute,
      pre .variable,
      pre .lisp .body {
        color: #008080
      }
      pre .regexp {
        color: #009926
      }
      pre .class {
        color: #458;
        font-weight: bold
      }
      pre .symbol,
      pre .ruby .symbol .string,
      pre .lisp .keyword,
      pre .tex .special,
      pre .prompt {
        color: #990073
      }
      pre .built_in,
      pre .lisp .title,
      pre .clojure .built_in {
        color: #0086b3
      }
      pre .preprocessor,
      pre .pi,
      pre .doctype,
      pre .shebang,
      pre .cdata {
        color: #999;
        font-weight: bold
      }
      pre .deletion {
        background: #fdd
      }
      pre .addition {
        background: #dfd
      }
      pre .diff .change {
        background: #0086b3
      }
      pre .chunk {
        color: #aaa
      }
    </style>
  </head>
  <body>  
    <h1 id="serve-index">serve-index</h1>
<p><a href="https://npmjs.org/package/serve-index"><img src="https://img.shields.io/npm/v/serve-index.svg?style=flat" alt="NPM Version"></a>
<a href="https://npmjs.org/package/serve-index"><img src="https://img.shields.io/npm/dm/serve-index.svg?style=flat" alt="NPM Downloads"></a>
<a href="https://travis-ci.org/expressjs/serve-index"><img src="https://img.shields.io/travis/expressjs/serve-index.svg?style=flat" alt="Build Status"></a>
<a href="https://coveralls.io/r/expressjs/serve-index?branch=master"><img src="https://img.shields.io/coveralls/expressjs/serve-index.svg?style=flat" alt="Test Coverage"></a>
<a href="https://www.gratipay.com/dougwilson/"><img src="https://img.shields.io/gratipay/dougwilson.svg?style=flat" alt="Gratipay"></a></p>
<p>  Serves pages that contain directory listings for a given path.</p>
<h2 id="install">Install</h2>
<pre><code class="lang-sh">$ npm install serve-index</code></pre>
<h2 id="api">API</h2>
<pre><code class="lang-js">var serveIndex = require(&#39;serve-index&#39;)</code></pre>
<h3 id="serveindex-path-options-">serveIndex(path, options)</h3>
<p>Returns middlware that serves an index of the directory in the given <code>path</code>.</p>
<p>The <code>path</code> is based off the <code>req.url</code> value, so a <code>req.url</code> of <code>&#39;/some/dir</code>
with a <code>path</code> of <code>&#39;public&#39;</code> will look at <code>&#39;public/some/dir&#39;</code>. If you are using
something like <code>express</code>, you can change the URL &quot;base&quot; with <code>app.use</code> (see
the express example).</p>
<h4 id="options">Options</h4>
<p>Serve index accepts these properties in the options object.</p>
<h5 id="filter">filter</h5>
<p>Apply this filter function to files. Defaults to <code>false</code>. The <code>filter</code> function
is called for each file, with the signature <code>filter(filename, index, files, dir)</code>
where <code>filename</code> is the name of the file, <code>index</code> is the array index, <code>files</code> is
the array of files and <code>dir</code> is the absolute path the file is located (and thus,
the directory the listing is for).</p>
<h5 id="hidden">hidden</h5>
<p>Display hidden (dot) files. Defaults to <code>false</code>.</p>
<h5 id="icons">icons</h5>
<p>Display icons. Defaults to <code>false</code>.</p>
<h5 id="stylesheet">stylesheet</h5>
<p>Optional path to a CSS stylesheet. Defaults to a built-in stylesheet.</p>
<h5 id="template">template</h5>
<p>Optional path to an HTML template. Defaults to a built-in template.</p>
<p>The following tokens are replaced in templates:</p>
<ul>
<li><code>{directory}</code> with the name of the directory.</li>
<li><code>{files}</code> with the HTML of an unordered list of file links.</li>
<li><code>{linked-path}</code> with the HTML of a link to the directory.</li>
<li><code>{style}</code> with the specified stylesheet and embedded images.</li>
</ul>
<h5 id="view">view</h5>
<p>Display mode. <code>tiles</code> and <code>details</code> are available. Defaults to <code>tiles</code>.</p>
<h2 id="examples">Examples</h2>
<h3 id="serve-directory-indexes-with-vanilla-node-js-http-server">Serve directory indexes with vanilla node.js http server</h3>
<pre><code class="lang-js">var finalhandler = require(&#39;finalhandler&#39;)
var http = require(&#39;http&#39;)
var serveIndex = require(&#39;serve-index&#39;)
var serveStatic = require(&#39;serve-static&#39;)

// Serve directory indexes for public/ftp folder (with icons)
var index = serveIndex(&#39;public/ftp&#39;, {&#39;icons&#39;: true})

// Serve up public/ftp folder files
var serve = serveStatic(&#39;public/ftp&#39;)

// Create server
var server = http.createServer(function onRequest(req, res){
  var done = finalhandler(req, res)
  serve(req, res, function onNext(err) {
    if (err) return done(err)
    index(req, res, done)
  })
})

// Listen
server.listen(3000)</code></pre>
<h3 id="serve-directory-indexes-with-express">Serve directory indexes with express</h3>
<pre><code class="lang-js">var express    = require(&#39;express&#39;)
var serveIndex = require(&#39;serve-index&#39;)

var app = express()

// Serve URLs like /ftp/thing as public/ftp/thing
app.use(&#39;/ftp&#39;, serveIndex(&#39;public/ftp&#39;, {&#39;icons&#39;: true}))
app.listen()</code></pre>
<h2 id="license">License</h2>
<p><a href="LICENSE">MIT</a>. The <a href="http://www.famfamfam.com/lab/icons/silk/">Silk</a> icons
are created by/copyright of <a href="http://www.famfamfam.com/">FAMFAMFAM</a>.</p>

  </body>
</html>
