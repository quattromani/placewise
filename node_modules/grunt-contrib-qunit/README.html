<!DOCTYPE  html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>doc</title>
    <style>
      /*github.com style (c) Vasily Polovnyov <vast@whiteants.net>*/
      pre code {
        display: block; padding: 0.5em;
        color: #333;
        background: #f8f8ff
      }
      pre .comment,
      pre .template_comment,
      pre .diff .header,
      pre .javadoc {
        color: #998;
        font-style: italic
      }
      pre .keyword,
      pre .css .rule .keyword,
      pre .winutils,
      pre .javascript .title,
      pre .nginx .title,
      pre .subst,
      pre .request,
      pre .status {
        color: #333;
        font-weight: bold
      }
      pre .number,
      pre .hexcolor,
      pre .ruby .constant {
        color: #099;
      }
      pre .string,
      pre .tag .value,
      pre .phpdoc,
      pre .tex .formula {
        color: #d14
      }
      pre .title,
      pre .id {
        color: #900;
        font-weight: bold
      }
      pre .javascript .title,
      pre .lisp .title,
      pre .clojure .title,
      pre .subst {
        font-weight: normal
      }
      pre .class .title,
      pre .haskell .type,
      pre .vhdl .literal,
      pre .tex .command {
        color: #458;
        font-weight: bold
      }
      pre .tag,
      pre .tag .title,
      pre .rules .property,
      pre .django .tag .keyword {
        color: #000080;
        font-weight: normal
      }
      pre .attribute,
      pre .variable,
      pre .lisp .body {
        color: #008080
      }
      pre .regexp {
        color: #009926
      }
      pre .class {
        color: #458;
        font-weight: bold
      }
      pre .symbol,
      pre .ruby .symbol .string,
      pre .lisp .keyword,
      pre .tex .special,
      pre .prompt {
        color: #990073
      }
      pre .built_in,
      pre .lisp .title,
      pre .clojure .built_in {
        color: #0086b3
      }
      pre .preprocessor,
      pre .pi,
      pre .doctype,
      pre .shebang,
      pre .cdata {
        color: #999;
        font-weight: bold
      }
      pre .deletion {
        background: #fdd
      }
      pre .addition {
        background: #dfd
      }
      pre .diff .change {
        background: #0086b3
      }
      pre .chunk {
        color: #aaa
      }
    </style>
  </head>
  <body>  
    <h1 id="grunt-contrib-qunit-v0-5-2-build-status-linux-https-travis-ci-org-gruntjs-grunt-contrib-qunit-png-branch-master-https-travis-ci-org-gruntjs-grunt-contrib-qunit-a-href-https-ci-appveyor-com-project-gruntjs-grunt-contrib-qunit-img-src-https-ci-appveyor-com-api-projects-status-3vd43779joyj6qji-branch-master-alt-build-status-windows-height-18-a-">grunt-contrib-qunit v0.5.2 <a href="https://travis-ci.org/gruntjs/grunt-contrib-qunit"><img src="https://travis-ci.org/gruntjs/grunt-contrib-qunit.png?branch=master" alt="Build Status: Linux"></a> <a href="https://ci.appveyor.com/project/gruntjs/grunt-contrib-qunit"><img src="https://ci.appveyor.com/api/projects/status/3vd43779joyj6qji/branch/master" alt="Build Status: Windows" height="18" /></a></h1>
<blockquote>
<p>Run QUnit unit tests in a headless PhantomJS instance.</p>
</blockquote>
<h2 id="getting-started">Getting Started</h2>
<p>This plugin requires Grunt <code>~0.4.0</code></p>
<p>If you haven&#39;t used <a href="http://gruntjs.com/">Grunt</a> before, be sure to check out the <a href="http://gruntjs.com/getting-started">Getting Started</a> guide, as it explains how to create a <a href="http://gruntjs.com/sample-gruntfile">Gruntfile</a> as well as install and use Grunt plugins. Once you&#39;re familiar with that process, you may install this plugin with this command:</p>
<pre><code class="lang-shell">npm install grunt-contrib-qunit --save-dev</code></pre>
<p>Once the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:</p>
<pre><code class="lang-js">grunt.loadNpmTasks(&#39;grunt-contrib-qunit&#39;);</code></pre>
<h2 id="qunit-task">Qunit task</h2>
<p><em>Run this task with the <code>grunt qunit</code> command.</em></p>
<p>Task targets, files and options may be specified according to the grunt <a href="http://gruntjs.com/configuring-tasks">Configuring tasks</a> guide.</p>
<p>When installed by npm, this plugin will automatically download and install <a href="http://www.phantomjs.org/">PhantomJS</a> locally via the <a href="https://github.com/gruntjs/grunt-lib-phantomjs">grunt-lib-phantomjs</a> library.</p>
<p>Also note that running grunt with the <code>--debug</code> flag will output a lot of PhantomJS-specific debugging information. This can be very helpful in seeing what actual URIs are being requested and received by PhantomJS.</p>
<h4 id="os-dependencies">OS Dependencies</h4>
<p>This plugin uses PhantomJS to run tests. PhantomJS requires these dependencies</p>
<p><strong>On Ubuntu/Debian</strong></p>
<p><code>apt-get install libfontconfig1 fontconfig libfontconfig1-dev libfreetype6-dev</code></p>
<p><strong>On CentOS</strong></p>
<p><code>yum install fontconfig freetype</code></p>
<h3 id="options">Options</h3>
<h4 id="timeout">timeout</h4>
<p>Type: <code>Number</code><br>Default: <code>5000</code></p>
<p>The amount of time (in milliseconds) that grunt will wait for a QUnit <code>start()</code> call before failing the task with an error.</p>
<h4 id="inject">inject</h4>
<p>Type: <code>String</code><br>Default: (built-in)</p>
<p>Path to an alternate QUnit-PhantomJS bridge file to be injected. See <a href="https://github.com/gruntjs/grunt-contrib-qunit/blob/master/phantomjs/bridge.js">the built-in bridge</a> for more information.</p>
<h4 id="httpbase">httpBase</h4>
<p>Type: <code>String</code>
Default: <code>false</code></p>
<p>Create URLs for the <code>src</code> files, all <code>src</code> files are prefixed with that base.</p>
<h4 id="console">console</h4>
<p>Type: <code>boolean</code>
Default: <code>true</code></p>
<p>Set to false to hide PhantomJS console output.</p>
<h4 id="urls">urls</h4>
<p>Type: <code>Array</code><br>Default: <code>[]</code></p>
<p>Absolute <code>http://</code> or <code>https://</code> urls to be passed to PhantomJS. Specified URLs will be merged with any specified <code>src</code> files first. Note that urls must be served by a web server, and since this task doesn&#39;t contain a web server, one will need to be configured separately. The <a href="https://github.com/gruntjs/grunt-contrib-connect">grunt-contrib-connect plugin</a> provides a basic web server.</p>
<h4 id="force">force</h4>
<p>Type: <code>boolean</code><br>Default: <code>false</code></p>
<p>When true, the whole task will not fail when there are individual test failures, or when no assertions for a test have run. This can be set to true when you always want other tasks in the queue to be executed.</p>
<h4 id="-phantomjs-arguments-">(-- PhantomJS arguments)</h4>
<p>Type: <code>String</code><br>Default: (none)</p>
<p>Additional <code>--</code> style arguments that need to be passed in to PhantomJS may be specified as options, like <code>{&#39;--option&#39;: &#39;value&#39;}</code>. This may be useful for specifying a cookies file, local storage file, or a proxy. See the <a href="https://github.com/ariya/phantomjs/wiki/API-Reference">PhantomJS API Reference</a> for a list of <code>--</code> options that PhantomJS supports.</p>
<h3 id="usage-examples">Usage examples</h3>
<h4 id="wildcards">Wildcards</h4>
<p>In this example, <code>grunt qunit:all</code> will test all <code>.html</code> files in the test directory <em>and all subdirectories</em>. First, the wildcard is expanded to match each individual file. Then, each matched filename is passed to <a href="http://www.phantomjs.org/">PhantomJS</a> (one at a time).</p>
<pre><code class="lang-js">// Project configuration.
grunt.initConfig({
  qunit: {
    all: [&#39;test/**/*.html&#39;]
  }
});</code></pre>
<h4 id="testing-via-http-or-https-">Testing via http:// or https://</h4>
<p>In circumstances where running unit tests from local files is inadequate, you can specify <code>http://</code> or <code>https://</code> URLs via the <code>urls</code> option. Each URL is passed to <a href="http://www.phantomjs.org/">PhantomJS</a> (one at a time).</p>
<p>In this example, <code>grunt qunit</code> will test two files, served from the server running at <code>localhost:8000</code>.</p>
<pre><code class="lang-js">// Project configuration.
grunt.initConfig({
  qunit: {
    all: {
      options: {
        urls: [
          &#39;http://localhost:8000/test/foo.html&#39;,
          &#39;http://localhost:8000/test/bar.html&#39;
        ]
      }
    }
  }
});</code></pre>
<p>Wildcards and URLs may be combined by specifying both.</p>
<h4 id="using-the-grunt-contrib-connect-plugin">Using the grunt-contrib-connect plugin</h4>
<p>It&#39;s important to note that grunt does not automatically start a <code>localhost</code> web server. That being said, the <a href="https://github.com/gruntjs/grunt-contrib-connect">grunt-contrib-connect plugin</a> <code>connect</code> task can be run before the <code>qunit</code> task to serve files via a simple <a href="http://www.senchalabs.org/connect/">connect</a> web server.</p>
<p>In the following example, if a web server isn&#39;t running at <code>localhost:8000</code>, running <code>grunt qunit</code> with the following configuration will fail because the <code>qunit</code> task won&#39;t be able to load the specified URLs. However, running <code>grunt connect qunit</code> will first start a static <a href="http://www.senchalabs.org/connect/">connect</a> web server at <code>localhost:8000</code> with its base path set to the Gruntfile&#39;s directory. Then, the <code>qunit</code> task will be run, requesting the specified URLs.</p>
<pre><code class="lang-js">// Project configuration.
grunt.initConfig({
  qunit: {
    all: {
      options: {
        urls: [
          &#39;http://localhost:8000/test/foo.html&#39;,
          &#39;http://localhost:8000/test/bar.html&#39;,
        ]
      }
    }
  },
  connect: {
    server: {
      options: {
        port: 8000,
        base: &#39;.&#39;
      }
    }
  }
});

// This plugin provides the &quot;connect&quot; task.
grunt.loadNpmTasks(&#39;grunt-contrib-connect&#39;);

// A convenient task alias.
grunt.registerTask(&#39;test&#39;, [&#39;connect&#39;, &#39;qunit&#39;]);</code></pre>
<h4 id="custom-timeouts-and-phantomjs-options">Custom timeouts and PhantomJS options</h4>
<p>In the following example, the default timeout value of <code>5000</code> is overridden with the value <code>10000</code> (timeout values are in milliseconds). Additionally, PhantomJS will read stored cookies from the specified file. See the <a href="https://github.com/ariya/phantomjs/wiki/API-Reference">PhantomJS API Reference</a> for a list of <code>--</code> options that PhantomJS supports.</p>
<pre><code class="lang-js">// Project configuration.
grunt.initConfig({
  qunit: {
    options: {
      timeout: 10000,
      &#39;--cookies-file&#39;: &#39;misc/cookies.txt&#39;
    },
    all: [&#39;test/**/*.html&#39;]
  }
});</code></pre>
<h4 id="events-and-reporting">Events and reporting</h4>
<p><a href="http://api.qunitjs.com/category/callbacks/">QUnit callback</a> methods and arguments are also emitted through grunt&#39;s event system so that you may build custom reporting tools. Please refer to to the QUnit documentation for more information.</p>
<p>The events, with arguments, are as follows:</p>
<ul>
<li><code>qunit.begin</code></li>
<li><code>qunit.moduleStart</code> <code>(name)</code></li>
<li><code>qunit.testStart</code> <code>(name)</code></li>
<li><code>qunit.log</code> <code>(result, actual, expected, message, source)</code></li>
<li><code>qunit.testDone</code> <code>(name, failed, passed, total)</code></li>
<li><code>qunit.moduleDone</code> <code>(name, failed, passed, total)</code></li>
<li><code>qunit.done</code> <code>(failed, passed, total, runtime)</code></li>
</ul>
<p>In addition to QUnit callback-named events, the following events are emitted by Grunt:</p>
<ul>
<li><code>qunit.spawn</code> <code>(url)</code>: when <a href="http://www.phantomjs.org/">PhantomJS</a> is spawned for a test</li>
<li><code>qunit.fail.load</code> <code>(url)</code>: when <a href="http://www.phantomjs.org/">PhantomJS</a> could not open the given url</li>
<li><code>qunit.fail.timeout</code>: when a QUnit test times out, usually due to a missing <code>QUnit.start()</code> call</li>
<li><code>qunit.error.onError</code> <code>(message, stackTrace)</code></li>
</ul>
<p>You may listen for these events like so:</p>
<pre><code class="lang-js">grunt.event.on(&#39;qunit.spawn&#39;, function (url) {
  grunt.log.ok(&quot;Running test: &quot; + url);
});</code></pre>
<h2 id="release-history">Release History</h2>
<ul>
<li>2014-07-09   v0.5.2   Added support for reporting the duration of testDone. Other minor fixes.</li>
<li>2014-05-31   v0.5.1   Updates grunt-lib-phantomjs.</li>
<li>2014-05-31   v0.5.0   Add ability to hide PhantomJS console output. Add option for binding phantomjs console to grunt output. Default is true (do bind). Add httpBase option. Only call jsDump.parse() if a test failed.</li>
<li>2014-01-17   v0.4.0   Update grunt-lib-phantomjs to v0.5.0. Explicitly set files to publish to npm. Ref gruntjs/gruntjs.com#65. Update qunit-overview.md, include CentOS dependencies. Closes gh-49.</li>
<li>2013-09-29   v0.3.0   Update grunt-lib-phantomjs to v0.4.0. Add qunit.fail.load and qunit.fail.timeout events. Update QUnit to v1.12.0. Add force option. Propagate onError events from phantomjs through the qunit.error.onError event. Remove confusing error message.</li>
<li>2013-06-06   v0.2.2   Warn if no assertions ran in a single test. Spaces instead of newlines for clickable urls. Wrap bridge.js in a IIFE.</li>
<li>2013-04-05   v0.2.1   Update to use PhantomJS 1.9.0. Fixes PhantomJS not found errors.</li>
<li>2013-02-28   v0.2.0   Update to use PhantomJS 1.8.1.</li>
<li>2013-02-15   v0.1.1   First official release for Grunt 0.4.0.</li>
<li>2013-01-18   v0.1.1rc6   Updating grunt/gruntplugin dependencies to rc6. Changing in-development grunt/gruntplugin dependency versions from tilde version ranges to specific versions.</li>
<li>2013-01-09   v0.1.1rc5   Updating to work with grunt v0.4.0rc5. Switching to this.filesSrc api. Adding &quot;urls&quot; option for specifying absolute test URLs.</li>
<li>2012-10-05   v0.1.0   Work in progress, not yet officially released.</li>
</ul>
<hr>
<p>Task submitted by <a href="http://benalman.com/">&quot;Cowboy&quot; Ben Alman</a></p>
<p><em>This file was generated on Wed Jul 09 2014 08:25:34.</em></p>

  </body>
</html>
